

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Job Description &mdash; SAGA-Python 0.2.5 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.2.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="SAGA-Python 0.2.5 documentation" href="../../../index.html" />
    <link rel="next" title="Job Service" href="Service.html" />
    <link rel="prev" title="Job Management Overview" href="__init__.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Service.html" title="Job Service"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="__init__.html" title="Job Management Overview"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">SAGA-Python 0.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="job-description">
<h1>Job Description<a class="headerlink" href="#job-description" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="bliss.saga.job.Description">
<em class="property">class </em><tt class="descclassname">bliss.saga.job.</tt><tt class="descname">Description</tt><a class="reference internal" href="../../../_modules/bliss/saga/job/Description.html#Description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bliss.saga.job.Description" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to define the properties and requirements for a job.</p>
<p>The Description class allows the user to describes both the resource
requirements (e.g. number  of CPUs, working directory etc.), as well as the
application properties (e.g. executable path, program arguments, environment
etc.) of a <a class="reference internal" href="Job.html#bliss.saga.job.Job" title="bliss.saga.job.Job"><tt class="xref py py-class docutils literal"><span class="pre">bliss.saga.job.Job</span></tt></a> to be create by a <a class="reference internal" href="Service.html#bliss.saga.job.Service" title="bliss.saga.job.Service"><tt class="xref py py-class docutils literal"><span class="pre">bliss.saga.job.Service</span></tt></a>.</p>
<p><strong>Usage example 1</strong> shows how to run a /bin/date job:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">jd</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Description</span><span class="p">()</span>

<span class="n">jd</span><span class="o">.</span><span class="n">executable</span> <span class="o">=</span> <span class="s">&quot;/bin/date&quot;</span>
<span class="n">jd</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;-u&quot;</span><span class="p">,</span> <span class="s">&quot;-R&quot;</span><span class="p">]</span>

<span class="n">js</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s">&quot;fork://localhost&quot;</span><span class="p">)</span>
<span class="n">j</span> <span class="o">=</span> <span class="n">js</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">jd</span><span class="p">)</span>

<span class="n">j</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Usage example 2</strong> shows how to run a set of shell commands as a job:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">script</span> <span class="o">=</span> <span class="s">&#39;&#39;&#39;</span>
<span class="s"> ls -la /tmp</span>
<span class="s"> find  /tmp/ -name  \*.pdf -exec echo &quot;found {}&quot; \;</span>
<span class="s"> du -a /tmp/ | egrep &#39;\.pdf$&#39; | wc -l</span>
<span class="s">&#39;&#39;&#39;</span>

<span class="n">jd</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Description</span><span class="p">()</span>

<span class="n">jd</span><span class="o">.</span><span class="n">executable</span> <span class="o">=</span> <span class="s">&quot;/bin/sh&quot;</span>
<span class="n">jd</span><span class="o">.</span><span class="n">arguments</span>  <span class="o">=</span> <span class="p">[</span><span class="s">&quot;-c&quot;</span><span class="p">,</span> <span class="n">script</span><span class="p">]</span>

<span class="n">js</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s">&quot;fork://localhost&quot;</span><span class="p">)</span>
<span class="n">j</span>  <span class="o">=</span> <span class="n">js</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">jd</span><span class="p">)</span>

<span class="n">j</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that the above example uses /bin/sh explicitly, instead of, say,
/bin/bash &#8211; it is good practice to use /bin/sh and sh compatible shell
scripts, as those are guaranteed to be available on all Unix systems.</p>
<dl class="attribute">
<dt id="bliss.saga.job.Description.Arguments">
<tt class="descname">Arguments</tt><a class="headerlink" href="#bliss.saga.job.Description.Arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Arguments:
List of arguments for the executable</p>
<blockquote>
<div><ul class="simple">
<li>This attribute is optional.</li>
<li>The order of arguments is, in general, significant.</li>
<li>The individual arguments are not expanded by the user environment (i.e.,
don&#8217;t use environment variables like $HOME)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.arguments = [&#8220;&#8211;prefix&#8221;, &#8220;/usr/local/bin&#8221;]</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Contact">
<tt class="descname">Contact</tt><a class="headerlink" href="#bliss.saga.job.Description.Contact" title="Permalink to this definition">¶</a></dt>
<dd><p>Contact:
Endpoint describing where to report job state transitions (e.g., email).</p>
<blockquote>
<div><ul class="simple">
<li>This information is used to send notifications for job state changes, to
email or other notification endpoints.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.contact = &#8220;<a class="reference external" href="mailto:cpt_hook&#37;&#52;&#48;piratebay&#46;org">cpt_hook<span>&#64;</span>piratebay<span>&#46;</span>org</a>&#8220;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Environment">
<tt class="descname">Environment</tt><a class="headerlink" href="#bliss.saga.job.Description.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Environment:
The environment variables to set in the job&#8217;s execution context.</p>
<blockquote>
<div><ul class="simple">
<li>exported into the job environment</li>
<li>format: &#8216;key=value&#8217;</li>
<li>The individual variable values are not expanded by the user environment (i.e.,
don&#8217;t use environment variables like $HOME in values)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.environment = [&#8220;PATH=/bin:/usr/bin&#8221;, &#8220;TARGET=KingKong&#8221;]</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Error">
<tt class="descname">Error</tt><a class="headerlink" href="#bliss.saga.job.Description.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Error:
The file in which the job&#8217;s stderr stream will be captured.</p>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.error = &#8220;/tmp/app.err&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Executable">
<tt class="descname">Executable</tt><a class="headerlink" href="#bliss.saga.job.Description.Executable" title="Permalink to this definition">¶</a></dt>
<dd><p>Executable:
Defines the command to execute.</p>
<blockquote>
<div><ul class="simple">
<li>This his is the only required attribute/property.</li>
<li>It can be a full pathname, a pathname relative to the working_directory as 
evaluated on the execution host, or a executable name to be searched in the
target host&#8217;s PATH environment (if available).</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.executable = &#8220;/usr/local/bin/blast&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.FileTransfer">
<tt class="descname">FileTransfer</tt><a class="headerlink" href="#bliss.saga.job.Description.FileTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>FileTransfer:
Defines the file staging operations.</p>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.arguments = [&#8220;&#8211;prefix&#8221;, &#8220;/usr/local/bin&#8221;]</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Name">
<tt class="descname">Name</tt><a class="headerlink" href="#bliss.saga.job.Description.Name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name:
Define a name for the job.</p>
<blockquote>
<div><ul class="simple">
<li>Defining an explicit name can help debugging on the backend system.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.name = &#8220;myblastjob_01&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.NumberOfProcesses">
<tt class="descname">NumberOfProcesses</tt><a class="headerlink" href="#bliss.saga.job.Description.NumberOfProcesses" title="Permalink to this definition">¶</a></dt>
<dd><p>NumberOfProcesses:
Number of processes to launch</p>
<blockquote>
<div><ul class="simple">
<li>This attribute specifies how many process instances the application is
expected to have.</li>
<li>Specifying this attribute does <em>not</em> automatically create those
instances, but instead acts as a hint (boundary condition) to the
scheduler.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.number_of_processes = 8</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Output">
<tt class="descname">Output</tt><a class="headerlink" href="#bliss.saga.job.Description.Output" title="Permalink to this definition">¶</a></dt>
<dd><p>Output:
The file in which the job&#8217;s stdout stream will be captured.</p>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.output = &#8220;/tmp/app.log&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Project">
<tt class="descname">Project</tt><a class="headerlink" href="#bliss.saga.job.Description.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Project:
The project / allocation name the job should be credited to.</p>
<blockquote>
<div><ul class="simple">
<li>This attribute is used by the scheduler backend to credit the allocated
resources to a specific project account.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.project = &#8220;project_42&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.Queue">
<tt class="descname">Queue</tt><a class="headerlink" href="#bliss.saga.job.Description.Queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Queue:
The queue on the backend system to place the job in.</p>
<blockquote>
<div><ul class="simple">
<li>Schedulers which support different queues (with different service
qualities) use this attribute.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.queue = &#8220;Large&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.SPMDVariation">
<tt class="descname">SPMDVariation</tt><a class="headerlink" href="#bliss.saga.job.Description.SPMDVariation" title="Permalink to this definition">¶</a></dt>
<dd><p>SPMDVariation:
SPMD job type and startup mechanism</p>
<blockquote>
<div><ul class="simple">
<li>supported values: MPI, OpenMP, None</li>
<li>&#8216;None&#8217; indicates that the application is not a SPMD application.</li>
<li>Specifying this value influences the mechanism the backend will use to
create the application process instances (fork, mpirun, ...)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.spmd_variation = &#8220;MPI&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.TotalCPUCount">
<tt class="descname">TotalCPUCount</tt><a class="headerlink" href="#bliss.saga.job.Description.TotalCPUCount" title="Permalink to this definition">¶</a></dt>
<dd><p>TotalCPUCount:
Total number of cpus requested for this job.</p>
<blockquote>
<div><ul class="simple">
<li>This attribute is used for jobs spanning more than one process instance,
such as for MPI jobs etc.</li>
<li>The backend does not make any assumptions about the job distribution
over the requested processes, nor does it give any connectivity
guarantees (NUMA, shared memory, network interconnects etc.)</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.total_cpu_count = 64</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.WallTimeLimit">
<tt class="descname">WallTimeLimit</tt><a class="headerlink" href="#bliss.saga.job.Description.WallTimeLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>WallTimeLimit:
The hard limit (in minutes) for the total job runtime.</p>
<blockquote>
<div><ul class="simple">
<li>The job is not necessarily killed when it overruns the specified time,
but no guarantees are made.</li>
<li>The value is used by the scheduler to optimized scheduling.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.wall_time_limit = &#8220;42&#8221;</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bliss.saga.job.Description.WorkingDirectory">
<tt class="descname">WorkingDirectory</tt><a class="headerlink" href="#bliss.saga.job.Description.WorkingDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>WorkingDirectory:
The working directory for the job.</p>
<blockquote>
<div><ul class="simple">
<li>If the directory does not exist, it will be created.</li>
<li>Relative path names (for output/error/file_staging) are relative to this
working directory.</li>
<li>The backend may choose an arbitrary working directory if none is
explicitly specified.</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Example</strong>::</dt>
<dd>jd = saga.job.Description()
jd.working_directory = &#8220;/scratch/cpt_hook/&#8221;</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="__init__.html"
                        title="previous chapter">Job Management Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Service.html"
                        title="next chapter">Job Service</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/bliss/saga/job/Description.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="Service.html" title="Job Service"
             >next</a> |</li>
        <li class="right" >
          <a href="__init__.html" title="Job Management Overview"
             >previous</a> |</li>
        <li><a href="../../../index.html">SAGA-Python 0.2.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, The SAGA Project.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>