<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>bliss.saga.Attributes.Callback</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="bliss.saga-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://saga-project.github.com/bliss">Bliss</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;bliss ::
        <a href="bliss.saga-module.html">Package&nbsp;saga</a> ::
        <a href="bliss.saga.Attributes-module.html">Module&nbsp;Attributes</a> ::
        Class&nbsp;Callback
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Callback</h1><p class="nomargin-top"><span class="codelink"><a href="bliss.saga.Attributes-pysrc.html#Callback">source&nbsp;code</a></span></p>
<p>Callback base class.</p>
  <p>All stateful objects of the pilot API allow to register a callback for
  any changes of its attributes, such as 'state' and 'state_detail'.  Those
  callbacks can be python call'ables, or derivates of this callback base 
  class.  Instances which inherit this base class MUST implement (overload)
  the cb() method.</p>
  <p>The callable, or the callback's cb() method is what is invoked 
  whenever the TROY implementation is notified of an change on the 
  monitored object's attribute.</p>
  <p>The cb instance receives three parameters upon invocation:</p>
  <ul>
    <li>
      member: the watched attribute (e.g. 'state' or 'state_detail')
    </li>
    <li>
      value:  the new value of the watched attribute
    </li>
    <li>
      obj:    the watched object instance
    </li>
  </ul>
  <p>If the callback returns 'True', it will remain registered after 
  invocation, to monitor the attribute for the next subsequent state 
  change.  On returning 'False' (or nothing), the callback will not be 
  called again.</p>
  <p>To register a callback on a object instance, use:</p>
<pre class="literalblock">
 class MyCallback (troy.pilot.Callback) :

   def __init__ (self, msg) :
     self.msg_ = msg

   def cb (self, obj, member, value) :
     print &quot; %s\n %s (%s) : %s&quot;  %  self.msg_, obj, member, value

   def main () :

     cpd = troy.pilot.compute_pilot_description ()
     cps = troy.pilot.compute_pilot_service ()
     cp  = cps.submit_pilot (cpd)

     mcb = MyCallback (&quot;Hello Pilot, how is your state?&quot;)

     cp.add_callback ('state', mcb)
</pre>
  <p>See documentation of the <a href="bliss.saga.Attributes-module.html" 
  class="link">Attributes</a> interface for further details and 
  examples.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__init__"></a><span class="summary-sig-name">__init__</span>(<span class="summary-sig-arg">self</span>)</span><br />
      The callback constructor simply raises an IncorrectState exception, 
      to signal that the application needs to inherit the callback class in
      a custom class in order to use notifications.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bliss.saga.Attributes-pysrc.html#Callback.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="bliss.saga.Attributes.Callback-class.html#cb" class="summary-sig-name">cb</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">wu</span>,
        <span class="summary-sig-arg">member</span>,
        <span class="summary-sig-arg">value</span>)</span><br />
      This is the method that needs to be implemented by the application</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="bliss.saga.Attributes-pysrc.html#Callback.cb">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="cb"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">cb</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">wu</span>,
        <span class="sig-arg">member</span>,
        <span class="sig-arg">value</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="bliss.saga.Attributes-pysrc.html#Callback.cb">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is the method that needs to be implemented by the application</p>
  <p>Keyword arguments:</p>
<pre class="literalblock">
   member: the watched attribute
   value:  the new value of the watched attribute
   obj:    the watched object instance
</pre>
  <p>Return:</p>
<pre class="literalblock">
   keep:   bool, signals to keep (True) or remove (False) the callback
           after invocation
</pre>
  <p>Callback invocation MAY (and in general will) happen in a separate 
  thread -- so the application need to make sure that the callback code is 
  thread-safe.</p>
  <p>The boolean return value is used to signal if the callback should 
  continue to listen for events (return True) , or if it rather should get 
  unregistered after this invocation (return False).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="bliss.saga-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://saga-project.github.com/bliss">Bliss</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    <a href="epydoc-log.html">Generated by Epydoc
    3.0.1 on Fri Aug 10 21:50:23 2012</a>
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
